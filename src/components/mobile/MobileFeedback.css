/* Mobile-specific overrides for the feedback screen */
@media (max-width: 768px) {
  /* Add class to body when showing results to enforce scrollable mode */
  body:has(.dictation-feedback[data-screen="results"]) {
    overflow-y: auto !important;
    touch-action: auto !important;
    position: static !important;
    height: auto !important;
    width: 100% !important;
    overflow-x: hidden !important;
  }

  /* Main feedback container */
  .dictation-feedback {
    padding: 15px 10px;
    touch-action: auto !important;       /* Enable scrolling on the feedback screen */
    overflow-y: auto !important;         /* Allow vertical scrolling */
    position: static !important;         /* Use static instead of relative */
    height: auto !important;             /* Let content determine height */
    max-height: none !important;         /* Override any max-height limitations */
    max-width: 100% !important;          /* Ensure it doesn't exceed screen width */
    margin: 0 auto !important;           /* Center horizontally */
    width: 100% !important;              /* Take full width */
    box-sizing: border-box !important;   /* Include padding in width calculation */
    left: 0 !important;                  /* Reset any left positioning */
    right: 0 !important;                 /* Reset any right positioning */
    overflow-x: hidden !important;       /* Hide horizontal overflow */
  }
  
  /* Parent container adjustments when on results screen */
  body:has(.dictation-feedback[data-screen="results"]) .mobile-dictation-container,
  body:has(.dictation-feedback[data-screen="results"]) .dictation-tool,
  body:has(.dictation-feedback[data-screen="results"]) #root,
  body:has(.dictation-feedback[data-screen="results"]) #root > div {
    overflow: visible !important;        /* Allow content to flow naturally */
    touch-action: auto !important;        /* Allow scrolling */
    position: static !important;          /* Reset positioning */
    height: auto !important;              /* Let content determine height */
    width: 100% !important;               /* Full width */
    overflow-x: hidden !important;        /* Prevent horizontal scrolling */
    transform: none !important;           /* Prevent transform issues */
    display: block !important;            /* Use block display mode */
  }

  .dictation-feedback h2 {
    font-size: 22px;
    margin-bottom: 15px;
  }

  .score-display {
    margin: 15px 0;
  }

  .score-value {
    font-size: 28px;
    padding: 14px 16px;
  }

  .feedback-stats {
    flex-direction: column;
    gap: 15px;
    width: 90% !important;         /* Slightly narrower than full width */
    max-width: 500px !important;   /* Maximum width on larger devices */
    margin: 0 auto !important;     /* Center horizontally */
  }

  .stat-item {
    width: 100% !important;
    padding: 10px;
    margin-left: auto !important;  /* Center these items */
    margin-right: auto !important;
    text-align: center !important;
  }

  .stat-title {
    font-size: 14px;
    text-align: center !important;
  }

  .stat-value {
    font-size: 22px;
    text-align: center !important;
  }

  .stat-detail {
    font-size: 14px;
    text-align: center !important;
  }
  
  /* Make sure all feedback elements are centered */
  .dictation-feedback h2,
  .score-display,
  .side-by-side-comparison,
  .text-container {
    text-align: center !important;
    width: 90% !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  .side-by-side-comparison {
    flex-direction: column;
  }

  .comparison-column {
    width: 100%;
    margin: 10px 0;
  }
  
  /* Make the restart/new dictation button more visible and centered */
  .restart-button {
    display: block !important;
    margin: 40px auto 80px !important; /* Good bottom margin to ensure it's reachable */
    padding: 15px 30px !important;     /* Larger tap target */
    font-size: 18px !important;        /* Larger text */
    background-color: #FF5500 !important; /* Match brand color */
    color: white !important;
    border: none !important;
    border-radius: 30px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2) !important;
    width: auto !important;
    min-width: 200px !important;
    text-align: center !important;
    position: relative !important;     /* Ensure it's in the normal document flow */
    z-index: 100 !important;           /* Make sure it's above other elements */
  }
  
  /* Add extra padding to the bottom of the screen to ensure scrollability */
  .dictation-feedback::after {
    content: "";
    display: block;
    height: 50px; /* Extra space at bottom */
  }

  .text-container {
    max-height: 200px;
    font-size: 14px;
  }

  .restart-button {
    padding: 12px 20px;
    width: 100%;
    font-size: 16px;
    margin-top: 15px;
  }

  .word-tooltip {
    min-width: 100px;
    max-width: 200px;
    padding: 8px 12px;
    font-size: 13px;
  }
}
